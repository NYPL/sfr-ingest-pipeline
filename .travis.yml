language: python
dist: xenial
python:
- 3.6
- 3.7
install:
- pip install --upgrade pip
- pip install -r dev-requirements.txt
- pip install -r requirements.txt
script: make test
after_success:
- ENVIRONMENT_NAME=$TRAVIS_BRANCH
- if [ "$TRAVIS_BRANCH" == "master" ]; then ENVIRONMENT_NAME=production; fi
deploy:
- provider: script
  skip_cleanup: true
  script: make deploy ENV=$ENVIRONMENT_NAME
  on:
    branch: development
env:
  global:
  - secure: CL3PzVw6hIKOqaPMG4g2oLPPzm3J0gIjAnzp1+t4qzL6rf5NrdfwwesC//qdWauX5jgCeYl7ImPjW6lPu4zMqA0vBd/V+cOPCOXCV6oI7n5utMSYd5n8e6JXpA7mEaawNUJjdzDT8Bv7scC96UGwByKsilm691I/tF55jN1DKsjakSbDcVtLxTBtpNZfpabZQENDlia/wplKOmfozz+/PgyVO+78uSY3KztRstSdV1B7XCc3w4i5aGWuvzbDFkQL2iDPknq6X7gkT/t5qmOkpmscNpNGEdQOyRzBiCS51MHM9KRnmD8ry1WyCBcZm13vB0pkaNjW/q9aZZU4Y4mxkJSukY0k3iYchtqW9/TObXmiDR4to30qKe4h+mQqdhscFHMT25w2a63gfJRpWws337WMl8Lka0/7gNLvv/a0PmqrLTquivne2DvNha3d6uTE6Jo88IXnKNFXF/YGV4ZSigchgpig7C8RiwByy21ZUxm8Wowo6Z0rlvwpIt/aFn0x/NqifSv4rejJksm+v1vXS8+aegeRST/UYEI0PUq0ubNkoIXZER6pWK7UWf7h0PVhmwH7cl7K4CGBVUKr9xaY/mtlObbK9UwTpBUzcJwNugm2lta83s6GFRjxfMWSKp6HrLw4X1rqMxWLI0NdeKgAlNIPh3nubV3eDNQedgVkao0=
  - secure: Tl30+VZg6jAx4D6Y5c/R3TJX8s5EByc32F6+IfrTLxBmZNe7kq6ram+OmVPp4cp0VbjBZoZJKZKnODV+7kQeqqoCYnU2hsSv25fVjt4uTmvymwkAF0F01KLVuBypT2LkyRXaQ+1/8UGWM1DIQc12gw0BlF7QCOM4jf38Eui1GcRJ5GCEDrzGsqlYcRhFW1NUQGHNMh+QtWaTmCGe2P1I6Xu/XgHLIvI9X5jAwapOe1ucr3yZ0xAbNi+238tt1T8DOuUBc7Fw7aeT5m2aerk4aMRGDtcH0FDUZia4PnhtNz2cgpExr7C2Gx9YQnUotjw5suz/VOKADm+xEMGd1gayprAs/QbnucTtGu2wYvRRJevefDDmRg7R+643yDYh4Pi9ypgTqGxZhbuckf6sxsFQu0VEsbpM10B+h5Vp0rwzJjccFnJMvmNhnnEykXuBrV4f7OMhshgTu8Whx3YTbCaK8mNb25q/l6gxK/rT1Vbs36Qa3uSP1BvT21xWSa1pU6ITDDfN5U/Y6GKPOLpaUeLXdbnGHpZuHBsTbgMumV/iDpcHoSBQIG6KE2qT7Da2GEg/W1+igkRJbt7eybYEP+UPCNfN/qSm5ctYNnt6EOXmwZELPq0HbziWZ0x9+XjdI1L4cgceFSrYRIjcWRnVXt8oBNSLe+fKhoVlXy3Sqa3wa9A=
