language: node_js
node_js:
- '10.15'
install: npm install
script: npm test
before_deploy: echo "All unit tests pass. Launching build on AWS EB."
deploy:
- provider: elasticbeanstalk
  skip_cleanup: true
  access_key_id: "$AWS_ACCESS_KEY_ID_DEVELOPMENT"
  secret_access_key: "$AWS_SECRET_ACCESS_KEY_DEVELOPMENT"
  region: us-east-1
  app: sfr-search-api
  env: sfr-search-api-dev
  bucket_name: elasticbeanstalk-us-east-1-224280085904
  bucket_path: sfr-search-api
  on:
    repo: NYPL/sfr-search-api
    branch: development
env:
  global:
  - secure: kVPspf9jKq60zuQiUqWSMu1dc0YYmrtX8TFU0G3y5ltctZ0LmvbNkmZ6EoheOliorlBN9im/DA1cpnU3df7EYm5OksaSEFR7FG5ZU7RNpFKspZDYMIiE4o1TYH2XkjveWD/hn18bpfx6SWaWYOGhriIkqQrsEFK060iGB3z7P1R9rw7MoFMuqF1dDN47f5+jKn7+CeLyIc4HyZEjonY/gFqwbcof6Scf68wJaWbpJsf1PyTIFnZpHFhcF2ZDqnHkFnpIp8R7WQgn46fuuwEh1XlidXr/+XAjim4zgSaNVyIEIbkI6BU3O6ZQ+3v1mHx61UJuefX4TkcPuod0Xysx2FstpZ9V99OwcIyItFE/Oexf+zaiJZB8goTUjdp3iT+ZkzEUy28UwTllqKGm0Hti+TDaEyJSf5tc/0yj10fy/ZA1EVRPZwaPeVkYFy/aQuh0vb09CSxGSo6AoSene+aLrrKSNjuYJDHMRuL6/Q+KI0O0TkAvI4Y0LhDISiydCDC5CjYqpgOhr+yiWEuYH3HT0U2CQ2HASkHLcUO+pgss7/RqNJxTkmFZNEvmaxqgTn3RYKGt66bg9VQ6d6YZdT3NLZTzqkHszgLw0upLFr6/FkG70UXWbM3KJY5d4hE/68LF74u5THp2BdhSqV56taZLe9C6MWwcsrTJawSDVRzXmtI=
  - secure: GdifG9WCLoB2stimongBemSaohPrS4eCp2repQhmcBQwKQeGoh8TZbrvCBBxkGXDuQBcO+ud5RVUQXVDxABt0sHX1wN1NJU2+AlQ9sgjzYwx5gFgsk14itsSAd2AgXtYYGOdDx74EY2nzGUqLvbrmOtkjCPq8d8X9MHVrg4G5GRdNkpxmR+awalEmnOc+N8A7q2JxhM5QDSkJQC2g3Sa04FnZAHPcqymi+eT0JfMfPlpCQPFoVjr17d2PWMClBAq8y9TJIpbapK2ddZCSleeHqGCqQDnxb9rR7D7epUNsGnuqAYZ81NivXCwWqvool7yL62b+GKj7URQMe3FcqEWyg5UWN44U+mlO1jNAyPqtg4+f8uB34ouSWPd3TI8hLfYyLfGVx3ULTcSdPZ1Wh30HKOj1L9tc+SEDR24TG8fUcMFD2FNcCFpJgVadFu3w1hx7YsUz1I/o8XnOGRM8vS+wvP4IzS6SzrJwjqXwO+l+MsCJUSjJ/7KFMwMIGgIf7NhG+6rgmCbRU96YWDH3rsAlgUSChbsdiU+I36huopbrSMMVL7h9li6XwMncKz8ajVlpwEUed3KvSXZMklWylpeIPJIjJQJVPvreHZFNtErqPUit1HaURdumekGHN1oKYFRun4F4xdPahcaEoyNLLAG5pHULcCeLjcz2ClFYPmMVbc=
